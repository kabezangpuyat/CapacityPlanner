@model WFMPCP.Model.SummaryOverAllExcessDeficitViews

<div class="row">
    <div class="col-xs-12">
        <div>
            <table id="simple-table" class="table  table-bordered table-hover">
                <thead>
                    <tr>
                        @try
                        {
                            foreach( var row in Model.SitePivot.FirstOrDefault() )
                            {
                                if( row.Key.Trim().ToLower() != "campaignid" )
                                {
                                    string value = row.Key;
                                    if( row.Key.ToString().Trim().ToLower() != "campaign" )
                                    {
                                        value = Convert.ToDateTime( row.Key ).ToString( "MMM dd, yyyy" );
                                    }
                                    <th style="text-align:center;">@value</th>
                                }
                            }
                        }
                        catch
                        {
                            <th style="text-align:center;">&nbsp;</th>
                        }
                    </tr>
                </thead>
                <tbody>
                        
                    @try{
                            foreach( var row in Model.SitePivot )
                            {
                                <tr>
                                @{ var style = "";
                                    var onclick = "javascript:OnColumnClick('0')";
                                    var campaignID = "0";
                                    var value = "";}
                                @foreach( var column in row )
                                {

                                    if( column.Key.Trim().ToLower() == "campaignid" )
                                    {
                                        onclick = "javascript:OnColumnClick('" + column.Value.ToString() + "')";
                                        campaignID = column.Value.ToString();
                                    }

                                    if( column.Key.Trim().ToLower() != "campaignid" )
                                    {
                                        if( column.Key.Trim().ToLower() == "campaign" )
                                        {
                                            style = "font-weight: bold;";
                                            value = column.Value.ToString();
                                        }
                                        else
                                        {
                                            style = "text-align:center;";
                                            double init = Math.Ceiling( Convert.ToDouble( column.Value ) );

                                            if( init < 0 )
                                            {
                                                style = "text-align:center;color:Red;";
                                                value = string.Format( "({0})", init.ToString().Replace( "-", "" ) );
                                            }
                                            else
                                            {
                                                value = init.ToString();
                                            }
                                        }
                                        <td style="cursor:pointer;@style" onclick="@onclick">@value</td>
                                    }
                                }
                                </tr>
                                <tr id="tr1_@campaignID" style="display:none;">
                                    <td style="display:none;"><input type="text" value="0" id="txt_@campaignID" style="display:none;" /></td>
                                </tr>
                                <tr id="tr2_@campaignID" style="display:none;border-spacing:0;padding:0;">
                                    <td colspan="@(row.Count()-1)" id="td_@campaignID"></td>
                                </tr>
                            }
                        }
                        catch{}
                </tbody>
            </table>

        </div>
    </div>
</div>

